@model Model.CartonManagementStockModel
<div class="table-style">
    <div class="prtm-full-block pos-relative">
        <div class="prtm-block-title pad-all-md">
            <div class="pos-relative">
                <div class="caption">
                    <h3 class="text-capitalize">Carton Management</h3>
                </div>
            </div>
        </div>
        <div class="modal-body">

            <div class="row  mrgn-b-lg">
                <div class="col-md-2 col-xs-12 col-sm-2">
                    @Html.DropDownListFor(m => m.StockDistributionSummaryId, null, "--Distribution Summary Id--", htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.StockDistributionSummaryId, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-2 col-xs-12 col-sm-2">
                    @Html.DropDownListFor(m => m.BranchId, null, "--Branch Name--", htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.BranchId, "", new { @class = "text-danger" })
                </div>

                <div class="col-md-2 col-xs-12 col-sm-2">
                    <button type="button" class="btn btn-primary add-btn add-form create" data-toggle="modal" data-target="#myModal" data-backdrop="static" data-keyboard="false" onclick="searchData();">Add</button>

                </div>
            </div>
        </div>
        <div class="prtm-block-content mrgn-b-md">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Branch Name</th>
                            <th>Column Number</th>
                            <th>Quantity</th>
                            <th>Receipt</th>

                            <th>Action</th>
                        </tr>
                    </thead>

                    <tbody class="tbodyIndex">
                        @if (Model.CartonList.Count != 0) { 
                        foreach (var item in Model.CartonList)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Branch.Name)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Id)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TotalItems)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Id)
                                </td>
                                <td style="min-width:85px;">

                                    <i class="fa fa-pencil edit-form edit" data-toggle="modal" data-backdrop="static" data-target="#myModal" onclick="edit(@item.Id)"></i>
                                    &nbsp;
                                    <i class="fa fa-trash delete delete-form" data-toggle="modal" data-target="#myModal" data-backdrop="static" onclick="del(@item.Id)"></i>
                                    &nbsp;
                                    <i class="fa fa-eye view-form details" data-toggle="modal" data-backdrop="static" data-target="#myModal" onclick="details(@item.Id)"></i>

                                </td>
                                <td><i class="fa fa-chevron-down accordian-btn" data-toggle="collapse" onclick="showReceipt(@item.Id)" aria-hidden="true"></i></td>

                            </tr>
                            <tr>
                                <td colspan="9">
                                    <div class="table-responsive accordian-bundling" style="display:none;" id="@item.Id">
                                        <table class="table table-hover bundle-ppoup-table">
                                            <thead>
                                                <tr>
                                                    <th>Carton Id</th>
                                                    <th>Product</th>
                                                    <th>Z01 </th>
                                                    <th>Z02</th>
                                                    <th>Z03 </th>
                                                    <th>Z04</th>
                                                    <th>Z05 </th>
                                                    <th>Z06</th>
                                                    <th>Z07 </th>
                                                    <th>Z08</th>
                                                    <th>Z09 </th>
                                                    <th>Z10</th>
                                                    <th>Z11 </th>
                                                    <th>Z12</th>
                                                    <th>Z13 </th>
                                                    <th>Z14</th>
                                                    <th>Z15</th>
                                                    <th>Z16</th>
                                                    <th>Z17 </th>
                                                    <th>Z18</th>
                                                    <th>Z19 </th>

                                                    <th>Z20 </th>
                                                    <th>Z21</th>
                                                    <th>Z22</th>
                                                    <th>Z22</th>
                                                    <th>Z23</th>
                                                    <th>Z24</th>
                                                    <th>Z25</th>
                                                    <th>Z26</th>
                                                    <th>Z27</th>
                                                    <th>Z28</th>
                                                    <th>Z29</th>
                                                    <th>Z30</th>
                                                </tr>
                                            </thead>
                                            <tbody id="CartonDetail-@item.Id"></tbody>
                                        </table>
                                    </div>
                                </td>
                            </tr>
                        }
                        }
                        else
                        {
                        <tr>
                            <td colspan="7">
                                <p>No record found.</p>
                            </td>
                        </tr>
                        }
                    </tbody>

                </table>
            </div>
        </div>
    </div>
</div>
<div class="col-md-12">
    @if (ViewBag.endPage > 1)
    {
        <div class="pagination">

            @if (ViewBag.CurrentPage > 1)
            {
                <li>
                    <a href="/Admin/CartonManagement/_Index1?page=1">First</a>
                </li>
                <li>
                    <a href="/Admin/CartonManagement/_Index1?page=@(ViewBag.CurrentPage - 1)">Previous</a>
                </li>
            }
            @foreach (var i in ViewBag.result)
            {

                var page = i;

                <li class="@(page == ViewBag.CurrentPage ? "active" : "")">
                    <a href="/Admin/CartonManagement/_Index1?page=@page">@page</a>
                </li>

            }
            @if (ViewBag.CurrentPage < ViewBag.totalPages)
            {
                <li>
                    <a href="/Admin/CartonManagement/_Index1?page=@(ViewBag.CurrentPage + 1)">Next</a>
                </li>
                <li>
                    <a href="/Admin/CartonManagement/_Index1?page=@(ViewBag.totalPages)">Last</a>
                </li>
            }

        </div>
    }
</div>

